---
interface Props {
  class?: string;
  theme?: 'light' | 'dark';
  separator?: 'none' | 'curve-up' | 'curve-down';
  separatorTop?: 'none' | 'curve-up' | 'curve-down';
}
const { class: className, theme = 'light', separator = 'none', separatorTop = 'none' } = Astro.props as Props;
---

<div class={`section-wrapper ${theme} ${separator} ${className ?? ''}`}>
  {separatorTop === 'curve-up' && (
    <svg class="separator-svg separator-top curve-up" xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100" viewBox="0 0 100 100" preserveAspectRatio="none">
      <path d="M0 100 C 20 0 50 0 100 100 Z" />
    </svg>
  )}
  
  {separatorTop === 'curve-down' && (
    <svg class="separator-svg separator-top curve-down" xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100" viewBox="0 0 100 100" preserveAspectRatio="none">
      <path d="M0 0 C 50 100 80 100 100 0 Z" />
    </svg>
  )}
  
  <div class="section-content">
    <slot />
  </div>
  
  {separator === 'curve-up' && (
    <svg class="separator-svg curve-up" xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100" viewBox="0 0 100 100" preserveAspectRatio="none">
      <path d="M0 100 C 20 0 50 0 100 100 Z" />
    </svg>
  )}
  
  {separator === 'curve-down' && (
    <svg class="separator-svg curve-down" xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100" viewBox="0 0 100 100" preserveAspectRatio="none">
      <path d="M0 0 C 50 100 80 100 100 0 Z" />
    </svg>
  )}
</div>

<style>
  .section-wrapper {
    overflow: visible;
    padding-bottom: 0;
    position: relative;
  }

  .section-wrapper.none {
    box-shadow: 0 4px 12px rgba(253, 238, 33, 0.25);
  }

  .light {
    background-color: var(--color-bg);
  }

  .dark {
    background-color: var(--brand-dark);
  }


  .separator-svg {
    display: block;
    width: 100%;
    height: 50px;
    pointer-events: none;
  }

  .separator-svg.separator-top {
    margin-bottom: -1px;
  }

  /* Dark theme with separator-top gets white background */
  .dark .separator-svg.separator-top {
    background-color: #ffffff;
  }

  .separator-svg path {
    stroke: none;
  }

  /* Curve styling - fill adapts based on theme */
  .light.curve-up path,
  .light.curve-down path {
    fill: var(--color-bg);
  }

  .dark.curve-up path,
  .dark.curve-down path {
    fill: var(--brand-dark);
  }

  @media (min-width: 768px) {
    .separator-svg {
      height: 100px;
    }
  }
</style>
