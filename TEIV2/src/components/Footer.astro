---
import { Image } from 'astro:assets';

import logoUrl from '../assets/global/TEI_logo.png';
import yellLogoUrl from '../assets/global/Yell-Reviews-Logo.png';

/* Footer brand bar background */
import slide1 from '../assets/hero-carousel/slide1.jpg';

import LocationIcon from '../assets/icons/location.svg';
import PhoneIcon from '../assets/icons/phone.svg';
import EmailIcon from '../assets/icons/email.svg';

import FacebookIcon from '../assets/icons/facebook.svg';
import LinkedinIcon from '../assets/icons/linkedin.svg';
import InstagramIcon from '../assets/icons/instagram.svg';

const currentYear = new Date().getFullYear();
---

<footer class="footer" aria-label="Site footer">
  <!-- Brand bar (image layer + overlay layer + content layer) -->
  <section class="brand-bar" aria-label="Footer brand">
    <div class="brand-bar-media" aria-hidden="true">
      <Image src={slide1} alt="" class="brand-bar-image" loading="lazy" decoding="async" />
      <div class="brand-bar-overlay"></div>
    </div>

    <div class="brand-bar-inner">
      <a href="/teiv2/home" class="brand-bar-link" aria-label="Go to homepage">
        <Image
          src={logoUrl}
          alt="TEI Electrical Logo"
          class="brand-bar-logo"
          loading="lazy"
          decoding="async"
        />
      </a>

      <p class="brand-bar-tagline">
        Domestic, commercial and renewable electrical services across North Yorkshire.
      </p>
    </div>
  </section>

  <!-- Upper footer -->
  <section class="footer-upper">
    <div class="footer-inner">
      <div class="upper-grid">
        <!-- Intro -->
        <div class="intro">
          <h2 class="intro-title">More…</h2>
          <p class="intro-text">
            Clear pricing, reliable call-outs and professional workmanship from a local team.
          </p>

          <div class="intro-actions">
            <button class="btn btn--primary" data-open-contact-modal>Request a quote</button>
            <a class="btn btn--ghost" href="tel:01723449667">Call 01723 449667</a>
          </div>
        </div>

        <!-- Links -->
        <nav class="links" aria-label="Footer navigation">
          <div class="section-header">
            <div class="section-line"></div>
            <h3 class="section-title">Links</h3>
          </div>

          <div class="links-cols">
            <div class="links-col">
              <a href="/teiv2/home" class="link">Home</a>
              <a href="/teiv2/services" class="link">Services</a>
              <a href="/teiv2/services/domestic" class="link">Domestic</a>
              <a href="/teiv2/services/commercial" class="link">Commercial</a>
              <a href="/teiv2/services/renewable" class="link">Renewables</a>
            </div>

            <div class="links-col">
              <a href="/teiv2/about-us" class="link">About Us</a>
              <a href="/teiv2/about-us/accreditations" class="link">Accreditations &amp; Certifications</a>
              <a href="/teiv2/portfolio" class="link">Portfolio</a>
              <a href="/teiv2/contact" class="link">Contact Us</a>
              <a href="/teiv2/emergency" class="link link--emergency">24H Emergency Callout</a>
            </div>
          </div>
        </nav>

        <!-- Socials -->
        <div class="socials-section">
          <div class="section-header">
            <div class="section-line"></div>
            <h3 class="section-title">Socials</h3>
          </div>
          
          <div class="socials-content">
            <div class="social-icons-row">
              <a
                href="https://www.facebook.com/themelectricalinstallationsltd/"
                target="_blank"
                rel="noopener"
                class="social-btn"
                aria-label="Facebook"
              >
                <FacebookIcon class="icon icon--lg" aria-hidden="true" />
              </a>

              <a
                href="https://www.instagram.com/tei_ltd/"
                target="_blank"
                rel="noopener"
                class="social-btn"
                aria-label="Instagram"
              >
                <InstagramIcon class="icon icon--lg" aria-hidden="true" />
              </a>

              <a
                href="https://www.linkedin.com/"
                target="_blank"
                rel="noopener"
                class="social-btn"
                aria-label="LinkedIn"
              >
                <LinkedinIcon class="icon icon--lg" aria-hidden="true" />
              </a>
            </div>

            <a
              href="https://www.yell.com/biz/them-electrical-installations-ltd-filey-10772044/"
              target="_blank"
              rel="noopener"
              class="yell-link"
              aria-label="Yell reviews"
            >
              <Image
                src={yellLogoUrl}
                alt="Yell Reviews"
                class="yell-logo"
                loading="lazy"
                decoding="async"
              />
            </a>
          </div>
        </div>

        <!-- Certifications -->
        <div class="certifications" aria-label="Accreditations">
          <div class="section-header">
            <div class="section-line"></div>
            <h3 class="section-title">Certified</h3>
          </div>
          
          <div class="cert-grid">
            <img src="/teiv2/images/certifications/Napit.jpg" alt="NAPIT Approved" class="cert-logo" />
            <img src="/teiv2/images/certifications/Mcs.jpg" alt="MCS Certified" class="cert-logo" />
            <img src="/teiv2/images/certifications/Trustmark.png" alt="TrustMark" class="cert-logo" />
            <img src="/teiv2/images/certifications/Recc.png" alt="RECC Member" class="cert-logo" />
            <img src="/teiv2/images/certifications/City.png" alt="City & Guilds" class="cert-logo" />
          </div>
        </div>

        <!-- Office + Hours -->
        <div class="info" aria-label="Office and hours">
          <div class="info-block">
            <div class="section-header">
              <div class="section-line"></div>
              <h3 class="section-title">Our Office</h3>
            </div>

            <div class="info-row info-row--top info-row--address">
              <div class="icon-wrapper">
                <LocationIcon class="icon icon--lg icon--accent icon--force" aria-hidden="true" />
              </div>
              <div class="info-text">
                <p class="address-line">60 Stonegate, Hunmanby</p>
                <p class="address-line">North Yorkshire, YO14 0NS</p>
              </div>
            </div>

            <a href="tel:01723449667" class="info-link">
              <PhoneIcon class="icon icon--md icon--accent" aria-hidden="true" />
              <span>01723 449667</span>
            </a>

            <a href="mailto:info@tei-ltd.co.uk" class="info-link">
              <EmailIcon class="icon icon--md icon--accent" aria-hidden="true" />
              <span>info@tei-ltd.co.uk</span>
            </a>
          </div>

          <div class="divider" aria-hidden="true"></div>

          <div class="info-block">
            <div class="section-header">
              <div class="section-line"></div>
              <h3 class="section-title">Business Hours</h3>
            </div>

            <dl class="hours">
              <div class="hours-row">
                <dt>Monday - Friday</dt>
                <dd>8:00am – 5:30pm</dd>
              </div>
              <div class="hours-row">
                <dt>Saturday</dt>
                <dd>8:00am – 12:00pm</dd>
              </div>
              <div class="hours-row">
                <dt>Sunday</dt>
                <dd>Closed</dd>
              </div>
            </dl>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Green band -->
  <section class="footer-band" aria-label="Call to action">
    <div class="footer-inner band-inner">
      <p class="band-text">
        Need an electrician? Get a free, no-obligation quote and straightforward advice.
      </p>
      <button class="band-cta" data-open-contact-modal>Request a quote</button>
    </div>
  </section>

  <!-- Bottom legal -->
  <div class="footer-bottom">
    <div class="footer-inner bottom-inner">
      <p class="copyright">
        &copy; {currentYear} Them Electrical Installations LTD. All rights reserved.
        <span class="meta">Company Number: 15367684</span>
        <span class="meta">VAT Registration Number: 463679451</span>
      </p>

      <nav class="legal" aria-label="Legal links">
        <a href="/teiv2/terms-conditions" class="legal-link">Terms</a>
        <a href="/teiv2/privacy-policy" class="legal-link">Privacy</a>
        <a href="/teiv2/quality-policy" class="legal-link">Quality</a>
        <a href="/teiv2/complaints-procedure" class="legal-link">Complaints</a>
        <a href="/teiv2/waste-policy" class="legal-link">Environment &amp; Waste</a>
      </nav>
    </div>
  </div>
</footer>

<style>
  .footer {
    --bg: rgb(30, 30, 30);
    --bg-2: rgb(22, 22, 22);
    --muted: rgba(255, 255, 255, 0.72);
    --line: rgba(255, 255, 255, 0.10);

    --accent: var(--color-accent);
    --green: var(--color-primary);

    color: #ffffff;
    background: var(--bg);
  }

  .footer-inner {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1rem;
  }

  /* Brand bar */
  .brand-bar {
    position: relative;
    overflow: hidden;
    min-height: 160px;
    align-items: center;
    border-top: 3px solid var(--color-accent);
    border-bottom: 3px solid var(--color-accent);
  }

  .brand-bar-media {
    position: absolute;
    inset: 0;
    z-index: 0;
  }

  .brand-bar-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    transform: scale(1.02);
  }

  .brand-bar-overlay {
    position: absolute;
    inset: 0;
    background: rgba(46, 46, 46, 0.85);
  }

  .brand-bar-inner {
    position: relative;
    z-index: 1;
    width: auto;
    padding: 2.25rem 0;
    display: flex;
    flex-direction: column;
    gap: 0.65rem;
    align-items: center;
    text-align: center;
    margin-left: 26%;
    margin-right: 26%;
    
  }

  @media (min-width: 820px) {
    .brand-bar-inner {
      flex-direction: row;
      justify-content: space-between;
      text-align: left;
      padding: 2.4rem 0;
      
    }
  }

  .brand-bar-link {
    display: inline-flex;
    text-decoration: none;
    transition: transform 0.3s ease;
    border-radius: 12px;
  }

  .brand-bar-link:hover {
    transform: scale(1.05);
  }

  .brand-bar-link:focus-visible {
    outline: 3px solid var(--color-accent);
    outline-offset: 8px;
  }

  .brand-bar-logo {
    display: block;
    width: auto;
    height: 100px;
    max-width: 300px;
  }

  @media (max-width: 520px) {
    .brand-bar-logo {
      height: 60px;
      max-width: 220px;
    }
  }

  .brand-bar-tagline {
    margin: 0;
    color: rgba(255, 255, 255, 0.92);
    font-weight: 850;
    line-height: 1.45;
    font-size: 1.15rem;
  }

  /* Upper */
  .footer-upper {
    background:
      radial-gradient(1000px 520px at 75% 30%, rgba(255, 255, 255, 0.05), transparent 60%),
      var(--bg);
    padding: 3.0rem 0 3.25rem;
  }

  .upper-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2.25rem;
  }

  @media (min-width: 980px) {
    .upper-grid {
      grid-template-columns: 1fr 1fr 1fr;
      gap: 2.5rem;
      align-items: start;
      grid-template-areas:
        "intro links info"
        "socials certs info";
    }

    .intro {
      grid-area: intro;
    }

    .links {
      grid-area: links;
    }

    .socials-section {
      grid-area: socials;
    }

    .certifications {
      grid-area: certs;
    }

    .info {
      grid-area: info;
    }
  }

  /* Intro */
  .intro {
    position: relative;
  }

  .intro-title {
    margin: 0 0 0.6rem;
    font-weight: 950;
    font-size: 2.1rem;
    letter-spacing: 0.2px;
    background: linear-gradient(135deg, #ffffff 0%, rgba(255, 255, 255, 0.85) 100%);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .intro-text {
    margin: 0 0 1.35rem;
    color: var(--muted);
    line-height: 1.65;
    max-width: 52ch;
    font-size: 1.05rem;
  }

  .intro-actions {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    margin-bottom: 1.35rem;
  }

  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    font-weight: 900;
    letter-spacing: 0.2px;
    padding: 0.85rem 1.5rem;
    border: 2px solid transparent;
    background: transparent;
    color: #ffffff;
    border-radius: 50px;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }

  .btn::before {
    content: "";
    position: absolute;
    inset: 0;
    background: rgba(255, 255, 255, 0.1);
    transform: translateX(-100%);
    transition: transform 0.3s ease;
  }

  .btn:hover::before {
    transform: translateX(0);
  }

  .btn--primary {
    background: var(--color-accent);
    color: var(--bg-2);
    box-shadow: 0 4px 12px rgba(253, 238, 33, 0.3);
  }

  .btn--primary:hover {
    background: var(--color-accent);
    box-shadow: 0 6px 20px rgba(253, 238, 33, 0.4);
    transform: translateY(-2px);
  }

  .btn--ghost {
    border-color: rgba(255, 255, 255, 0.25);
    backdrop-filter: blur(4px);
  }

  .btn--ghost:hover {
    border-color: rgba(255, 255, 255, 0.45);
    background: rgba(255, 255, 255, 0.08);
    transform: translateY(-2px);
  }

  .social-btn {
    width: 56px;
    height: 56px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    color: #1e1e1e;
    background: var(--color-accent);
    border: 2px solid var(--color-accent);
    border-radius: 12px;
    transition: all 0.3s ease;
  }

  .social-btn:hover {
    color: #1e1e1e;
    background: #e8d01e;
    border-color: var(--color-accent);
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 6px 16px rgba(253, 238, 33, 0.4);
  }

  .social-btn:focus-visible {
    outline: 2px solid var(--accent);
    outline-offset: 2px;
  }

  .yell-link {
    width: 82%;
    height: 115px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    transition: all 0.3s ease;
    margin-left: 9% ;
    margin-top: 1rem ;
  }

  .yell-link:hover {
    background: var(--color-bg);
    border-color: var(--color-accent);
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 6px 16px rgba(42, 145, 52, 0.4);
  }

  .yell-logo {
    width: 100%;
  height: 100%;
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  background: var(--color-bg);
  padding: 0.1rem;
  display: block;
  border-radius: 6px;
  transition: transform 0.3s ease;
  border-left: solid 2rem #fdee21;
  border-right: solid 2rem #fdee21;
}
  

  .yell-link:hover .yell-logo {
    transform: scale(1.05);
  }

  /* Links (rail + two columns) */
  .links {
    position: relative;
  }

  /* Section Headers */
  .section-header {
    margin-bottom: 1.5rem;
  }

  .section-line {
    height: 3px;
    background: linear-gradient(
      90deg,
      var(--color-accent) 0%,
      var(--color-primary) 50%,
      transparent 100%
    );
    margin-bottom: 0.75rem;
  }

  .section-title {
    margin: 0;
    font-size: 0.95rem;
    font-weight: 900;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: rgba(255, 255, 255, 0.85);
  }

  .links-cols {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.25rem;
  }

  @media (min-width: 520px) {
    .links-cols {
      grid-template-columns: 1fr 1fr;
      gap: 1.75rem;
    }
  }

  .links-col {
    display: flex;
    flex-direction: column;
    gap: 0.7rem;
  }

  .link {
    color: var(--color-accent);
    text-decoration: none;
    font-weight: 800;
    letter-spacing: 0.2px;
    position: relative;
    width: fit-content;
    padding: 0.2rem 0;
    transition: color 0.3s ease;
  }

  .link::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: 0;
    width: 0;
    height: 2px;
    background: currentColor;
    border-radius: 2px;
    transition: width 0.4s ease;
  }

  .link:hover {
    color: #ffffff;
  }

  .link:hover::after {
    width: 100%;
  }

  .link:focus-visible {
    outline: 2px solid var(--color-accent);
    outline-offset: 4px;
    border-radius: 2px;
  }

  .link--emergency {
    color: #ffffff;
  }

  /* Socials Section */
  .socials-section {
    position: relative;
    padding: 0;
  }

  .socials-content {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    align-items: flex-start;
  }

  .social-icons-row {
    display: flex;
    justify-content: space-between;
    width: 100%;
    gap: 0.75rem;
    padding: 0 2rem;
  }

  /* Certifications */
  .certifications {
    position: relative;
  }

  .cert-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.85rem;
    align-items: center;
  }

  .cert-logo {
    width: 100%;
    height: 65px;
    object-fit: contain;
    object-position: center;
    background: rgba(255, 255, 255, 0.95);
    padding: 0.65rem;
    border-radius: 12px;
    border: 2px solid rgba(255, 255, 255, 0.15);
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }

  .cert-logo:hover {
    transform: translateY(-4px) scale(1.05);
    border-color: var(--color-accent);
    box-shadow: 0 6px 16px rgba(253, 238, 33, 0.2);
  }

  /* Info */
  .info {
    border-left: 1px solid var(--line);
    padding-left: 1.5rem;
  }

  @media (max-width: 979px) {
    .info {
      border-left: none;
      padding-left: 0;
    }
  }

  .info-block {
    background: rgba(255, 255, 255, 0.02);
    padding: 1.5rem;
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.06);
  }



  .info-row {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 0.85rem;
    color: var(--muted);
    line-height: 1.4;
  }

  .info-row--top {
    align-items: flex-start;
  }

  .icon-wrapper {
    color: var(--color-accent);
  }

  .info-text p {
    margin: 0;
  }

  .info-link {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 0.85rem;
    text-decoration: none;
    color: #ffffff;
    font-weight: 850;
    width: fit-content;
    padding: 0.35rem 0.5rem;
    margin-left: -0.5rem;
    border-radius: 6px;
    transition: all 0.3s ease;
  }

  .info-link:hover {
    color: var(--color-accent);
    background: rgba(255, 255, 255, 0.05);
    transform: translateX(4px);
  }

  .info-link:focus-visible {
    outline: 2px solid var(--color-accent);
    outline-offset: 2px;
  }

  .divider {
    height: 1px;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.2) 20%,
      rgba(255, 255, 255, 0.2) 80%,
      transparent
    );
    margin: 1.5rem 0;
  }

  .hours {
    margin: 0;
    color: var(--muted);
  }

  .hours-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.75rem;
    padding: 0.7rem 0.75rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.06);
    transition: background 0.2s ease;
    border-radius: 6px;
  }

  .hours-row:hover {
    background: rgba(255, 255, 255, 0.03);
  }

  .hours-row:last-child {
    border-bottom: none;
  }

  .hours dt {
    font-weight: 800;
    color: rgba(255, 255, 255, 0.90);
  }

  .hours dd {
    margin: 0;
    text-align: right;
    color: rgba(255, 255, 255, 0.75);
  }

  /* Icons */
  .icon {
    width: 1.25rem;
    height: 1.25rem;
    display: inline-block;
    flex: 0 0 auto;
  }

  .icon--md {
    width: 1.4rem;
    height: 1.4rem;
  }

  .icon--lg {
    width: 1.75rem;
    height: 1.75rem;
  }

  .icon--accent {
    color: var(--color-accent);
  }

  .icon--force :global(path),
  .icon--force :global(circle),
  .icon--force :global(rect),
  .icon--force :global(polygon),
  .icon--force :global(line) {
    fill: currentColor;
    stroke: currentColor;
  }

  /* Band */
  .footer-band {
    background: linear-gradient(135deg, var(--color-primary) 0%, #1f7328 100%);
    padding: 1.5rem 0;
    box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.15);
  }

  .band-inner {
    display: flex;
    flex-direction: column;
    gap: 0.85rem;
    align-items: flex-start;
  }

  @media (min-width: 820px) {
    .band-inner {
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
    }
  }

  .band-text {
    margin: 0;
    color: rgba(255, 255, 255, 0.95);
    font-weight: 750;
    line-height: 1.6;
    max-width: 70ch;
    font-size: 1.05rem;
  }

  .band-cta {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    font-weight: 950;
    padding: 0.9rem 1.75rem;
    background: #ffffff;
    color: var(--bg-2);
    border: 2px solid rgba(255, 255, 255, 0.35);
    white-space: nowrap;
    border-radius: 50px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    cursor: pointer;
    font-family: inherit;
    font-size: inherit;
  }

  .band-cta:hover {
    background: var(--color-accent);
    border-color: var(--color-accent);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
  }

  .band-cta:focus-visible {
    outline: 3px solid #ffffff;
    outline-offset: 3px;
  }

  /* Bottom */
  .footer-bottom {
    background: var(--bg-2);
    border-top: 1px solid rgba(255, 255, 255, 0.08);
    padding: 1.5rem 0;
  }

  .bottom-inner {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    align-items: center;
  }

  @media (min-width: 820px) {
    .bottom-inner {
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
      gap: 1.25rem;
    }
  }

  .copyright {
    margin: 0;
    color: rgba(255, 255, 255, 0.68);
    font-size: 0.875rem;
    text-align: center;
    line-height: 1.55;
  }

  .meta {
    margin-left: 0.5rem;
    white-space: nowrap;
    opacity: 0.95;
  }

  @media (max-width: 620px) {
    .meta {
      display: block;
      margin-left: 0;
    }
  }

  .legal {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 0.85rem 1rem;
  }

  .legal-link {
    color: rgba(255, 255, 255, 0.72);
    text-decoration: none;
    font-weight: 700;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    transition: all 0.3s ease;
  }

  .legal-link:hover {
    color: var(--color-accent);
    background: rgba(255, 255, 255, 0.05);
  }

  .legal-link:focus-visible {
    outline: 2px solid var(--color-accent);
    outline-offset: 2px;
  }
</style>
