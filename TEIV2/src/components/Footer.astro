---
import { Image } from 'astro:assets';

import logoUrl from '../assets/global/TEI_logo.png';
import yellLogoUrl from '../assets/global/Yell-Reviews-Logo.png';

/* Footer brand bar background */
import slide1 from '../assets/hero-carousel/slide1.jpg';

import LocationIcon from '../assets/icons/location.svg';
import PhoneIcon from '../assets/icons/phone.svg';
import EmailIcon from '../assets/icons/email.svg';

import FacebookIcon from '../assets/icons/facebook.svg';
import LinkedinIcon from '../assets/icons/linkedin.svg';
import InstagramIcon from '../assets/icons/instagram.svg';

const currentYear = new Date().getFullYear();
---

<footer class="footer" aria-label="Site footer">
  <!-- Brand bar (image layer + overlay layer + content layer) -->
  <section class="brand-bar" aria-label="Footer brand">
    <div class="brand-bar-media" aria-hidden="true">
      <Image src={slide1} alt="" class="brand-bar-image" loading="lazy" decoding="async" />
      <div class="brand-bar-overlay"></div>
    </div>

    <div class="brand-bar-inner">
      <a href="/teiv2/home" class="brand-bar-link" aria-label="Go to homepage">
        <Image
          src={logoUrl}
          alt="TEI Electrical Logo"
          class="brand-bar-logo"
          loading="lazy"
          decoding="async"
        />
      </a>

      <p class="brand-bar-tagline">
        Domestic, commercial and renewable electrical services across North Yorkshire.
      </p>
    </div>
  </section>

  <!-- Upper footer -->
  <section class="footer-upper">
    <div class="footer-inner">
      <div class="upper-grid">
        <!-- Intro -->
        <div class="intro">
          <h2 class="intro-title">More…</h2>
          <p class="intro-text">
            Clear pricing, reliable call-outs and professional workmanship from a local team.
          </p>

          <div class="intro-actions">
            <a class="btn btn--primary" href="/teiv2/contact">Request a quote</a>
            <a class="btn btn--ghost" href="tel:01723449667">Call 01723 449667</a>
          </div>

          <div class="intro-social" aria-label="Social links">
            <a
              href="https://www.facebook.com/themelectricalinstallationsltd/"
              target="_blank"
              rel="noopener"
              class="social-btn"
              aria-label="Facebook"
            >
              <FacebookIcon class="icon icon--md" aria-hidden="true" />
            </a>

            <a
              href="https://www.instagram.com/tei_ltd/"
              target="_blank"
              rel="noopener"
              class="social-btn"
              aria-label="Instagram"
            >
              <InstagramIcon class="icon icon--md" aria-hidden="true" />
            </a>

            <a
              href="https://www.linkedin.com/"
              target="_blank"
              rel="noopener"
              class="social-btn"
              aria-label="LinkedIn"
            >
              <LinkedinIcon class="icon icon--md" aria-hidden="true" />
            </a>

            <a
              href="https://www.yell.com/biz/them-electrical-installations-ltd-filey-10772044/"
              target="_blank"
              rel="noopener"
              class="yell-link"
              aria-label="Yell reviews"
            >
              <Image
                src={yellLogoUrl}
                alt="Yell Reviews"
                class="yell-logo"
                loading="lazy"
                decoding="async"
              />
            </a>
          </div>
        </div>

        <!-- Links -->
        <nav class="links" aria-label="Footer navigation">
          <div class="rail" aria-hidden="true">
            <span class="rail-text">Links</span>
          </div>

          <div class="links-cols">
            <div class="links-col">
              <a href="/teiv2/home" class="link">Home</a>
              <a href="/teiv2/services" class="link">Services</a>
              <a href="/teiv2/services/domestic" class="link">Domestic</a>
              <a href="/teiv2/services/commercial" class="link">Commercial</a>
              <a href="/teiv2/services/renewable" class="link">Renewables</a>
            </div>

            <div class="links-col">
              <a href="/teiv2/about-us" class="link">About Us</a>
              <a href="/teiv2/about-us/accreditations" class="link">Accreditations &amp; Certifications</a>
              <a href="/teiv2/portfolio" class="link">Portfolio</a>
              <a href="/teiv2/contact" class="link">Contact Us</a>
              <a href="/teiv2/emergency" class="link link--emergency">24H Emergency Callout</a>
            </div>
          </div>
        </nav>

        <!-- Office + Hours -->
        <div class="info" aria-label="Office and hours">
          <div class="info-block">
            <h3 class="info-title">Our Office</h3>

            <div class="info-row info-row--top">
              <LocationIcon class="icon icon--md icon--accent icon--force" aria-hidden="true" />
              <div class="info-text">
                <p>60 Stonegate, Hunmanby</p>
                <p>North Yorkshire, YO14 0NS</p>
              </div>
            </div>

            <a href="tel:01723449667" class="info-link">
              <PhoneIcon class="icon icon--md icon--accent" aria-hidden="true" />
              <span>01723 449667</span>
            </a>

            <a href="mailto:info@tei-ltd.co.uk" class="info-link">
              <EmailIcon class="icon icon--md icon--accent" aria-hidden="true" />
              <span>info@tei-ltd.co.uk</span>
            </a>
          </div>

          <div class="divider" aria-hidden="true"></div>

          <div class="info-block">
            <h3 class="info-title">Business Hours</h3>

            <dl class="hours">
              <div class="hours-row">
                <dt>Monday - Friday</dt>
                <dd>8:00am – 5:30pm</dd>
              </div>
              <div class="hours-row">
                <dt>Saturday</dt>
                <dd>8:00am – 12:00pm</dd>
              </div>
              <div class="hours-row">
                <dt>Sunday</dt>
                <dd>Closed</dd>
              </div>
            </dl>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Green band -->
  <section class="footer-band" aria-label="Call to action">
    <div class="footer-inner band-inner">
      <p class="band-text">
        Need an electrician? Get a free, no-obligation quote and straightforward advice.
      </p>
      <a class="band-cta" href="/teiv2/contact">Request a quote</a>
    </div>
  </section>

  <!-- Bottom legal -->
  <div class="footer-bottom">
    <div class="footer-inner bottom-inner">
      <p class="copyright">
        &copy; {currentYear} Them Electrical Installations LTD. All rights reserved.
        <span class="meta">Company Number: 15367684</span>
        <span class="meta">VAT Registration Number: 463679451</span>
      </p>

      <nav class="legal" aria-label="Legal links">
        <a href="/teiv2/terms-conditions" class="legal-link">Terms</a>
        <a href="/teiv2/privacy-policy" class="legal-link">Privacy</a>
        <a href="/teiv2/quality-policy" class="legal-link">Quality</a>
        <a href="/teiv2/complaints-procedure" class="legal-link">Complaints</a>
        <a href="/teiv2/waste-policy" class="legal-link">Environment &amp; Waste</a>
      </nav>
    </div>
  </div>
</footer>

<style>
  .footer {
    --bg: rgb(30, 30, 30);
    --bg-2: rgb(22, 22, 22);
    --muted: rgba(255, 255, 255, 0.72);
    --line: rgba(255, 255, 255, 0.10);

    --accent: var(--color-accent);
    --green: var(--color-primary);

    color: #ffffff;
    background: var(--bg);
  }

  .footer-inner {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1rem;
  }

  /* Brand bar */
  .brand-bar {
    position: relative;
    overflow: hidden;
    min-height: 160px;
    align-items: center;
    border-top: 3px solid var(--color-accent);
    border-bottom: 3px solid var(--color-accent);
  }

  .brand-bar-media {
    position: absolute;
    inset: 0;
    z-index: 0;
  }

  .brand-bar-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    transform: scale(1.02);
  }

  .brand-bar-overlay {
    position: absolute;
    inset: 0;
    background: rgba(46, 46, 46, 0.85);
  }

  .brand-bar-inner {
    position: relative;
    z-index: 1;
    width: auto;
    padding: 2.25rem 0;
    display: flex;
    flex-direction: column;
    gap: 0.65rem;
    align-items: center;
    text-align: center;
    margin-left: 26%;
    margin-right: 26%;
    
  }

  @media (min-width: 820px) {
    .brand-bar-inner {
      flex-direction: row;
      justify-content: space-between;
      text-align: left;
      padding: 2.4rem 0;
      
    }
  }

  .brand-bar-link {
    display: inline-flex;
    text-decoration: none;
  }

  .brand-bar-logo {
    display: block;
    width: auto;
    height: 100px;
    max-width: 300px;
  }

  @media (max-width: 520px) {
    .brand-bar-logo {
      height: 60px;
      max-width: 220px;
    }
  }

  .brand-bar-tagline {
    margin: 0;
    color: rgba(255, 255, 255, 0.92);
    font-weight: 850;
    letter-spacing: 0.2px;
    line-height: 1.45;
    max-width: 60ch;
  }

  /* Upper */
  .footer-upper {
    background:
      radial-gradient(1000px 520px at 75% 30%, rgba(255, 255, 255, 0.05), transparent 60%),
      var(--bg);
    padding: 3.0rem 0 3.25rem;
  }

  .upper-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2.25rem;
  }

  @media (min-width: 980px) {
    .upper-grid {
      grid-template-columns: 1.1fr 1.2fr 0.9fr;
      gap: 2.5rem;
      align-items: start;
    }
  }

  /* Intro */
  .intro-title {
    margin: 0 0 0.6rem;
    font-weight: 950;
    font-size: 2.1rem;
    letter-spacing: 0.2px;
  }

  .intro-text {
    margin: 0 0 1.35rem;
    color: var(--muted);
    line-height: 1.6;
    max-width: 52ch;
  }

  .intro-actions {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    margin-bottom: 1.35rem;
  }

  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    font-weight: 900;
    letter-spacing: 0.2px;
    padding: 0.85rem 1rem;
    border: 1px solid transparent;
    background: transparent;
    color: #ffffff;
  }

  .btn--primary {
    background: var(--accent);
    color: var(--bg-2);
  }

  .btn--ghost {
    border-color: rgba(255, 255, 255, 0.18);
  }

  .btn--ghost:hover {
    border-color: rgba(255, 255, 255, 0.32);
  }

  .intro-social {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex-wrap: wrap;
  }

  .social-btn {
    width: 42px;
    height: 42px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    color: var(--accent);
    background: rgba(255, 255, 255, 0.06);
    border: 1px solid rgba(255, 255, 255, 0.10);
  }

  .social-btn:hover {
    color: #ffffff;
    border-color: rgba(255, 255, 255, 0.18);
  }

  .yell-link {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    padding: 0.55rem 0.75rem;
    background: rgba(255, 255, 255, 0.06);
    border: 1px solid rgba(255, 255, 255, 0.10);
  }

  .yell-logo {
    max-width: 155px;
    width: 100%;
    height: auto;
    background: #ffffff;
    padding: 0.15rem 0.45rem;
    display: block;
  }

  /* Links (rail + two columns) */
  .links {
    position: relative;
    padding-left: 3.25rem;
    border-left: 1px solid var(--line);
  }

  @media (max-width: 979px) {
    .links {
      padding-left: 0;
      border-left: none;
    }
  }

  .rail {
    position: absolute;
    left: 0;
    top: 0;
    width: 2.5rem;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  @media (max-width: 979px) {
    .rail {
      display: none;
    }
  }

  .rail-text {
    writing-mode: vertical-rl;
    transform: rotate(180deg);
    font-weight: 900;
    letter-spacing: 0.22em;
    text-transform: uppercase;
    font-size: 0.75rem;
    color: rgba(255, 255, 255, 0.70);
  }

  .links-cols {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.25rem;
  }

  @media (min-width: 520px) {
    .links-cols {
      grid-template-columns: 1fr 1fr;
      gap: 1.75rem;
    }
  }

  .links-col {
    display: flex;
    flex-direction: column;
    gap: 0.7rem;
  }

  .link {
    color: var(--accent);
    text-decoration: none;
    font-weight: 800;
    letter-spacing: 0.2px;
    position: relative;
    width: fit-content;
    padding: 0.2rem 0;
  }

  .link::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: -0.25rem;
    width: 0;
    height: 3px;
    background: currentColor;
    transition: width 0.5s ease;
  }

  .link:hover {
    color: #ffffff;
  }

  .link:hover::after {
    width: 100%;
  }

  .link--emergency {
    color: #ffffff;
  }

  /* Info */
  .info {
    border-left: 1px solid var(--line);
    padding-left: 1.5rem;
  }

  @media (max-width: 979px) {
    .info {
      border-left: none;
      padding-left: 0;
    }
  }

  .info-title {
    margin: 0 0 0.95rem;
    font-size: 1.05rem;
    font-weight: 950;
    letter-spacing: 0.25px;
    position: relative;
    padding-bottom: 0.6rem;
  }

  .info-title::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: 0;
    width: 72px;
    height: 3px;
    background: var(--green);
  }

  .info-row {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 0.85rem;
    color: var(--muted);
    line-height: 1.4;
  }

  .info-row--top {
    align-items: flex-start;
  }

  .info-text p {
    margin: 0;
  }

  .info-link {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 0.85rem;
    text-decoration: none;
    color: #ffffff;
    font-weight: 850;
    width: fit-content;
  }

  .info-link:hover {
    color: var(--accent);
  }

  .divider {
    height: 1px;
    background: var(--line);
    margin: 1.25rem 0;
  }

  .hours {
    margin: 0;
    color: var(--muted);
  }

  .hours-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.75rem;
    padding: 0.55rem 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  }

  .hours-row:last-child {
    border-bottom: none;
  }

  .hours dt {
    font-weight: 800;
    color: rgba(255, 255, 255, 0.86);
  }

  .hours dd {
    margin: 0;
    text-align: right;
  }

  /* Icons */
  .icon {
    width: 1.25rem;
    height: 1.25rem;
    display: inline-block;
    flex: 0 0 auto;
  }

  .icon--md {
    width: 1.4rem;
    height: 1.4rem;
  }

  .icon--accent {
    color: var(--accent);
  }

  .icon--force :global(path),
  .icon--force :global(circle),
  .icon--force :global(rect),
  .icon--force :global(polygon),
  .icon--force :global(line) {
    fill: currentColor;
    stroke: currentColor;
  }

  /* Band */
  .footer-band {
    background: var(--green);
    padding: 1.35rem 0;
  }

  .band-inner {
    display: flex;
    flex-direction: column;
    gap: 0.85rem;
    align-items: flex-start;
  }

  @media (min-width: 820px) {
    .band-inner {
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
    }
  }

  .band-text {
    margin: 0;
    color: rgba(255, 255, 255, 0.92);
    font-weight: 750;
    line-height: 1.55;
    max-width: 70ch;
  }

  .band-cta {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    font-weight: 950;
    padding: 0.85rem 1rem;
    background: #ffffff;
    color: var(--bg-2);
    border: 1px solid rgba(255, 255, 255, 0.35);
    white-space: nowrap;
  }

  /* Bottom */
  .footer-bottom {
    background: var(--bg-2);
    border-top: 1px solid rgba(255, 255, 255, 0.08);
    padding: 1.25rem 0;
  }

  .bottom-inner {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    align-items: center;
  }

  @media (min-width: 820px) {
    .bottom-inner {
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
      gap: 1.25rem;
    }
  }

  .copyright {
    margin: 0;
    color: rgba(255, 255, 255, 0.68);
    font-size: 0.875rem;
    text-align: center;
    line-height: 1.55;
  }

  .meta {
    margin-left: 0.5rem;
    white-space: nowrap;
    opacity: 0.95;
  }

  @media (max-width: 620px) {
    .meta {
      display: block;
      margin-left: 0;
    }
  }

  .legal {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 0.85rem 1rem;
  }

  .legal-link {
    color: rgba(255, 255, 255, 0.72);
    text-decoration: none;
    font-weight: 700;
  }

  .legal-link:hover {
    color: #ffffff;
  }
</style>
