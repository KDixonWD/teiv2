---
import TopBar from './Common/Header/TopBar.astro';
import MobileNav from './Common/Header/MobileNav.astro';
import logoUrl from '../assets/global/TEI_logo.png';

---

<TopBar />

<header class="header w-full">
  <div class="container header-inner">
    <div class="logo">
      <a href="/teiv2/home"><img src={logoUrl.src} alt="TEI Electrical Logo" /></a>
    </div>
    <nav class="main-nav" aria-label="Main navigation">
      <a href="/teiv2/home" class="nav-link">Home</a>
      <a href="/teiv2/services" class="nav-link">Services</a>
      <a href="/teiv2/about-us" class="nav-link">About</a>
      <a href="/teiv2/contact" class="nav-link">Contact</a>
    </nav>
    <button class="mobile-menu-btn" id="openMenu" aria-label="Open menu">
      <i class="fas fa-bars"></i>
    </button>
  </div>
</header>

<MobileNav />

<style>
  .header{position:relative;top:0;background:rgba(62,62,62,0.85);padding:1rem 0;z-index:20}
  .header-inner{display:flex;align-items:center;justify-content:space-between;max-width:1200px;margin:0 auto;padding:0 1rem}
  .logo img{height:64px}
  .main-nav{display:flex;gap:1.5rem}
  .nav-link{color:#fdee21;text-decoration:none;font-size:1.05rem;font-weight:600}
  .nav-link:hover{color:#408220}
  .mobile-menu-btn{display:none;background:none;border:0;color:#fdee21;font-size:1.8rem;cursor:pointer}

  @media(max-width:900px){
    .main-nav{display:none}
    .mobile-menu-btn{display:block}
  }
</style>

<script>
  const mobileNav = document.getElementById('mobileNav');
  const openMenuBtn = document.getElementById('openMenu');

  openMenuBtn?.addEventListener('click', () => {
    mobileNav?.classList.add('active');
    document.body.style.overflow = 'hidden';
    mobileNav?.setAttribute('aria-hidden','false');
  });
</script>
